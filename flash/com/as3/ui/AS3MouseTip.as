package com.as3.ui{	import flash.display.Sprite;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import com.as3.utils.AS3Utils;	public class AS3MouseTip extends Sprite	{		//类自身		private var owner:AS3MouseTip;		//提示文字		private var _label_str:String;		//是否跟随鼠标		//private var _isFollow_boo:Boolean;		//是否显示游标		private var _showNonius_boo:Boolean;		//提示的皮肤显示对象		private var _skin_spr:Sprite;		//是否对提示对象进行位置,大小等调整	    private var _isSuit_boo:Object;		/*//提示的尺寸.如果有尺寸:		//                     1.就按固定尺寸来渲染提示对象.		//                     2.动态文本框按为可多行		//否则按照提示文本的宽度提定尺寸		private var _w_intm:int;		private var _h_int:int;		//提示位置.只有在_isFollow_boo时才起作用		private var _x_int:int;		private var _y_int:int;*/						//提示文本框		private var _label_txt:TextField;		//游标		private var _nonius_spr:Sprite;		//提示文本显示主题元件		private var _tipBg_spr:Sprite;				/*--构造函数区--*/		public function AS3MouseTip(obj:Object)		{			super();			init(obj);			//sysInit();			//addEvent();		}		/*--函数定义区--*/		//系统初始化，对外		public function init(obj:Object):void		{			//是否鼠标跟随			//_isFollow_boo=obj.isFollow;			//是否显示游标			_showNonius_boo=obj.showNonius;			//提示的皮肤显示对象			_skin_spr=obj.skin;			//是否对提示对象进行位置,大小等调整			_isSuit_boo=obj.isSuit;			sysInit();		}		//系统初始化,对内		private function sysInit():void		{			owner=this;			_nonius_spr=_skin_spr["nonius"];			_tipBg_spr=_skin_spr["bg"];			addChild(_nonius_spr);			addChild(_tipBg_spr);		}		//显示提示		public function showTip(label:String):void		{			_label_str = label;			if(_skin_spr!=null)			{				_label_txt=new TextField();				_label_txt.mouseEnabled=false;		        _label_txt.autoSize=TextFieldAutoSize.CENTER;				_label_txt.text=_label_str;				_label_txt.x=_nonius_spr.x;				_label_txt.y=_tipBg_spr.y;				if(_isSuit_boo)				{					suit();				}				format();				show();			}			else			{				trace("::注意:你没有给Tip对象加皮肤::");			}		}				//自适应显示对象		private function suit():void		{			_tipBg_spr.width=_label_txt.width;		    _tipBg_spr.height=_label_txt.height;			var scale=_tipBg_spr.scaleX;			_nonius_spr.scaleX=_nonius_spr.scaleY=scale;			_nonius_spr.x=-_nonius_spr.width/2;			_nonius_spr.y=-_nonius_spr.height-10;			_nonius_spr.x=-_tipBg_spr.width/2;		}		//格式化显示		private function format():void		{			var v:Boolean;			var y:Number;			//是否显示游标			if(!_showNonius_boo)			{				v=false				y=-_tipBg_spr.height-10;			}			else			{				v=true				y=_nonius_spr.y-_tipBg_spr.height;			}			_nonius_spr.visible=v;			_tipBg_spr.y=y;			AS3Utils.setCenter(_label_txt,_tipBg_spr);		}		//显示tip内部调用		private function show():void		{			_skin_spr.addChild(_label_txt);			owner.addChild(_skin_spr);trace("ok:"+_skin_spr);			owner.startDrag(true);		}		//隐藏提示		public function removeTip():void		{			_skin_spr.removeChild(_label_txt);			owner.stopDrag();trace("1:"+_skin_spr);			owner.removeChild(_skin_spr);		}	}}